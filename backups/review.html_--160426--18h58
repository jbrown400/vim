<form method="post" ng-submit="submit()">
  {% csrf_token %}

  {% verbatim %}
  <div flex-container="row" ng-model="valid.error"
       class="p+ error bgc-red-500 tc-white-1" ng-show="valid.error != ''">
    <center>
      {{ valid.error }}
    </center>
  </div>
  <div flex-container="column" flex-gutter="24">
    <div flex-item style="margin: 30px">
      <div flex-container="row" flex-gutter="24">
        <div flex-item>
          <lx-select ng-model="data.target"
              placeholder="Professor"
              choices="ajax.list"
              filter="ajax.update(newValue, oldValue, 'professors_matching')"
              loading="{{ ajax.loading }}"
              min-length="2"
              allow-clear="true"
              error="valid.target != ''"
              id="target"
              class="tc-black-1">

            <lx-select-selected>
              {{ $selected.last_name + ', ' + $selected.first_name }}
            </lx-select-selected>

            <lx-select-choices>
              {{ $choice.last_name + ', ' + $choice.first_name }}
            </lx-select-choices>
          </lx-select>

          <span class="text-field-error" ng-show="valid.target != ''">{{ valid.target }}</span>
        </div>

        <div flex-item>
          <lx-select ng-model="data.course"
              placeholder="Course"
              choices="ajax.list"
              filter="ajax.update(newValue, oldValue, 'courses_matching')"
              loading="{{ ajax.loading }}"
              min-length="2"
              allow-clear="true"
              error="valid.course != ''"
              id="course">

            <lx-select-selected>
              {{ $selected.name }} ({{ $selected.number }})
            </lx-select-selected>

            <lx-select-choices>
              {{ $choice.name }} ({{ $choice.number }})
            </lx-select-choices>
          </lx-select>

          <span class="text-field-error" ng-show="valid.course != ''">{{ valid.course }}</span>
        </div>
      </div>

      <div flex-container="row" style="margin-top: 15px;">
        <div flex-item class="review-rating">
          <md-slider-container>
            <span class="md-body-1">Overall Rating</span>
            <md-slider flex class="md-primary" md-discrete ng-model="data.rating_overall"
                       step="0.1" min="0" max="5" aria-label="blue"
                       aria-controls="blue-slider"
                       ng-disabled="data.rating_overall == 10"
                       ng-readonly="data.rating_overall == 10">
            </md-slider>
          </md-slider-container>
          <span class="text-field-error" ng-show="valid.rating_overall != ''">
            {{ valid.rating_overall }}
          </span>
        </div>
        <div flex-item class="review-rating">
          <md-slider-container>
            <span class="md-body-1">Course Value</span>
            <md-slider flex class="md-primary" md-discrete ng-model="data.rating_value"
                       step="0.1" min="0" max="5" aria-label="blue"
                       aria-controls="blue-slider"
                       ng-disabled="data.rating_overall == 10"
                       ng-readonly="data.rating_overall == 10">
            </md-slider>
          </md-slider-container>
          <span class="text-field-error" ng-show="valid.rating_value != ''">
            {{ valid.rating_value }}
          </span>
        </div>
        <div flex-item class="review-rating">
          <md-slider-container>
            <span class="md-body-1">Course Difficulty</span>
            <md-slider flex class="md-primary" md-discrete ng-model="data.rating_difficulty"
                       step="0.1" min="0" max="5" aria-label="blue"
                       aria-controls="blue-slider"
                       ng-disabled="data.rating_overall == 10"
                       ng-readonly="data.rating_overall == 10">
            </md-slider>
          </md-slider-container>
          <span class="text-field-error" ng-show="valid.rating_difficulty != ''">
            {{ valid.rating_difficulty }}
          </span>
        </div>
      </div>
      <div flex-item>
        <lx-text-field label="Review title">
          <input type="text" ng-model="data.title" error="valid.title != ''">
        </lx-text-field>
        <span class="text-field-error" ng-show="valid.title != ''">{{ valid.title }}</span>
      </div>

      <div flex-item>
        <lx-text-field label="Write your review here (minimum 50 characters)" error="valid.text != ''">
          <textarea ng-model="data.text" type="text" ng-minlength="50"></textarea>
        </lx-text-field>
        <span class="text-field-error" ng-show="valid.text != ''">{{ valid.text }}</span>
      </div>


    <button id="siteButton" class="btn btn--l btn--raised"type="submit" ng-submit="submit()" onClick="kiipInstance.postMoment('Registering!')"  lx-ripple />Submit</button>

    </div>
  </div>
  {% endverbatim %}

</form>
